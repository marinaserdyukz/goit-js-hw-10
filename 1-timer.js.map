{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport 'flatpickr/dist/flatpickr.min.css'\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"\n\nconst startBtn = document.querySelector('[data-start]')\nconst inputEl = document.querySelector('#datetime-picker')\n\nlet intervalId;\nlet initTime;\n \nstartBtn.disabled = true;\ninputEl.value = '';\n\nstartBtn.addEventListener(\"click\", () => {\nstartBtn.disabled = true;\ninputEl.disabled = true;\n\nintervalId = setInterval(() => {\nconst currentTime = Date.now();\nconst diff = initTime - currentTime;\n\nif (diff <= 0) {\n    clearInterval(intervalId);\n    updateTimerDisplay({ d: 0, h: 0, m: 0, s: 0 });\n    inputEl.disabled = false; \n    startBtn.disabled = true;\n    inputEl.value = '';\n    return;\n  }\n\n  const time = convertMS(diff);\n  updateTimerDisplay(time);\n}, 1000);\n})\n\nfunction convertMS(ms) {\n    let d, h, m, s;\n    s = Math.floor(ms / 1000);\n    m = Math.floor(s / 60);\n    s = s % 60;\n    h = Math.floor(m / 60);\n    m = m % 60;\n    d = Math.floor(h / 24);\n    h = h % 24;\n    return { d: d, h: h, m: m, s: s };\n  };\n\n\n  function updateTimerDisplay({ d, h, m, s }) {\n    document.querySelector('[data-days]').textContent = d.toString().padStart(2, '0');\n    document.querySelector('[data-hours]').textContent = h.toString().padStart(2, '0');\n    document.querySelector('[data-minutes]').textContent = m.toString().padStart(2, '0');\n    document.querySelector('[data-seconds]').textContent = s.toString().padStart(2, '0');\n  }\n\n  flatpickr(\"#datetime-picker\", {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      initTime = selectedDates[0];\n\n      if(initTime <= Date.now()) {\n        startBtn.disabled = true;\n        iziToast.show({\n            message: 'Please choose a date in the future',\n            messageColor: 'white',\n            backgroundColor: 'red',\n            position: 'topRight',\n            iconColor: 'red',\n            close: false,\n            closeOnClick: false,\n            iconUrl: 'https://cdn-icons-png.flaticon.com/512/4225/4225690.png',\n            balloon: false,\n          });\n      } else {\n        startBtn.disabled = false;\n      }\n      }\n    });\n\n\n\n\n\n"],"names":["startBtn","inputEl","intervalId","initTime","currentTime","diff","updateTimerDisplay","time","convertMS","ms","d","h","m","s","flatpickr","selectedDates","iziToast"],"mappings":"2FAKA,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAU,SAAS,cAAc,kBAAkB,EAEzD,IAAIC,EACAC,EAEJH,EAAS,SAAW,GACpBC,EAAQ,MAAQ,GAEhBD,EAAS,iBAAiB,QAAS,IAAM,CACzCA,EAAS,SAAW,GACpBC,EAAQ,SAAW,GAEnBC,EAAa,YAAY,IAAM,CAC/B,MAAME,EAAc,KAAK,MACnBC,EAAOF,EAAWC,EAExB,GAAIC,GAAQ,EAAG,CACX,cAAcH,CAAU,EACxBI,EAAmB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,CAAE,EAC7CL,EAAQ,SAAW,GACnBD,EAAS,SAAW,GACpBC,EAAQ,MAAQ,GAChB,MACD,CAED,MAAMM,EAAOC,EAAUH,CAAI,EAC3BC,EAAmBC,CAAI,CACzB,EAAG,GAAI,CACP,CAAC,EAED,SAASC,EAAUC,EAAI,CACnB,IAAIC,EAAGC,EAAGC,EAAGC,EACb,OAAAA,EAAI,KAAK,MAAMJ,EAAK,GAAI,EACxBG,EAAI,KAAK,MAAMC,EAAI,EAAE,EACrBA,EAAIA,EAAI,GACRF,EAAI,KAAK,MAAMC,EAAI,EAAE,EACrBA,EAAIA,EAAI,GACRF,EAAI,KAAK,MAAMC,EAAI,EAAE,EACrBA,EAAIA,EAAI,GACD,CAAE,EAAGD,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAElC,CAEE,SAASP,EAAmB,CAAE,EAAAI,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,CAAC,EAAI,CAC1C,SAAS,cAAc,aAAa,EAAE,YAAcH,EAAE,SAAQ,EAAG,SAAS,EAAG,GAAG,EAChF,SAAS,cAAc,cAAc,EAAE,YAAcC,EAAE,SAAQ,EAAG,SAAS,EAAG,GAAG,EACjF,SAAS,cAAc,gBAAgB,EAAE,YAAcC,EAAE,SAAQ,EAAG,SAAS,EAAG,GAAG,EACnF,SAAS,cAAc,gBAAgB,EAAE,YAAcC,EAAE,SAAQ,EAAG,SAAS,EAAG,GAAG,CACpF,CAEDC,EAAU,mBAAoB,CAC5B,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBZ,EAAWY,EAAc,CAAC,EAEvBZ,GAAY,KAAK,OAClBH,EAAS,SAAW,GACpBgB,EAAS,KAAK,CACV,QAAS,qCACT,aAAc,QACd,gBAAiB,MACjB,SAAU,WACV,UAAW,MACX,MAAO,GACP,aAAc,GACd,QAAS,0DACT,QAAS,EACrB,CAAW,GAEHhB,EAAS,SAAW,EAErB,CACP,CAAK"}